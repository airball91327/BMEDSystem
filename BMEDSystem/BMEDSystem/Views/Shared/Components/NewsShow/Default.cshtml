@model IEnumerable<EDIS.Models.NewsViewModel>

<style>
    .table {
        margin: 0;
        width: 100%;
    }

</style>

<div class="panel panel-info">
    <div class="panel-heading">[最新消息]</div>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayName("建立者")
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NewsTitle)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NewsContent)
            </th>

            <th>
            </th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NewsTitle)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NewsContent)
                </td>

                <td>
                    @*@Html.ActionLink("預覽", "UnDetails", "News", new { id = item.NewsId }, new { target = "_blank" })*@
                    <input type="button" value="預覽" class="btn btn-default" data-toggle="modal" data-target="#modalDETAIL" id="btnQtyDetails" />
                </td>
            </tr>
            <!-- 最新消息預覽 Modal -->
            <div id="modalDETAIL" class="modal fade" role="dialog">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">[最新消息]</h4>
                        </div>
                        <div class="modal-body">
                            @await Component.InvokeAsync("NewsDetails", new { id = item.NewsId })
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
                        </div>
                    </div>
                </div>
            </div>
        }

    </table>
</div>



